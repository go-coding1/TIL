# 1장 인프라 아키텍처를 살펴보자

* 집약형 아키텍처

  시스템 아키텍처라는 관점에서는 하나의 컴퓨터로 모든 처리를 하기 때문에 '집약형'이라고 할 수 있다. 집약형의 최대 장점은 구성이 간단하다는 것이다.

  집약형 아키텍처에서는 해당 기업의 주요 업무를 모두 한 대로 처리하기 때문에 장비 고장 등으로 업무가 멈추기 않도록 여러 고민을 하고 있다. 그래서 주요 부품은 다중화 한다.

  * 장점 

    한 대의 대형 컴퓨터만 있으면 되므로 구성이 간단하다

    대형 컴퓨터의 리소스 관리나 이중화에 의해 안정성이 높고 고성능이다.

  * 단점

    대형 컴퓨터의 도입 비용과 유지 비용이 비싸다

    확장성에 한계가 있다.

* 분할형 아키텍처

  여러 대의 컴퓨터를 조합해서 하나의 시스템을 구축한다(컴퓨터 간에 데이터를 주고 받는다)

  분할형 아키텍처는 표준 OS나 개발 언어를 이용하기 때문에 '오픈 시스템'이라고도 부른다. 또는 '분산 시스템'이라 부르는 경우도 있다.

  * 장점

    낮은 비용을 시스템을 구축할 수 있다.

    서버 대수를 늘릴 수 있어서 확장성이 높다.

  * 단점

    대수가 늘어나면 관리 구조가 복잡해진다.

    한 대가 망가지면 영향 범위를 최소화하기 위한 구조를 검토해야 한다.

* 물리 서버와 논리 서버 차이

  ![IMG_5297](https://user-images.githubusercontent.com/54675591/138576728-2920f30a-a3da-4e97-acc5-13a0efe5e2ca.JPG)

  인터넷에 접속했을 때 사용자 입력 및 HTML 생성을 담당하는 것은 서버세어 동작하는 소프트웨어인 '웹 서버'다. 대량의 데이터를 저장해서 요청에 따라 데이터를 제공하는 것은 데이터베이스 기능을 제공하는 'DB서버'다.

* 수직 분할형 아키텍처

  서버별로 다른 역할을 담당하는 것.

* 클라이언트 - 서버형 아키텍처

  사용자가 클라이언트(단말기 ,PC, 스마트폰 등)으로 요청을 하면 클라이언트는 서버에게 접속해 이용하는 형태이다.

  클라이언트-서버형의 특징은 클라이언트 측에 전용 소프트웨어를 설치해야 한다는 것이다. 이에 따라 기업에서 정기적이 업데이트가 생기면 클라이언트 측 소프트웨어도 업데이트해야 한다. 이 업데이트를 하지 않으면 모든 기능을 사용할 수 없고, 이용자가 반드시 업데이트한다는 보장도 없어서 시스템 위험 요소가 될 수 있다. 또한, 서버에 처리가 집중되면 확장성에 한계가 발생할 가능성이 있다. 이러한 단점을 개선하려고 한 것이 3계층형이다.

  * 장점

    클라이언트 측에서 많은 처리를 실행할 수 잇어서 소수의 서버로 다수의 클라이언트를 처리할 수 있다.

  * 단점

    클라이언트 측의 소프트웨어 정기 업데이트가 필요하다.

    서버 확장성에 한계가 발생할 수 있다.

* 3계층형 아키텍처

  '프레젠테이션 계층' '애플리케이션 계층' '데이터 계층'의 3층 구조로 분할돼 있어서 3계층형이라고 부른다.

  * 프레젠테이션 계층

    사용자 입력을 받는다

    웹 브라우저 화면을 표시한다

  * 애플리케이션 계층

    사용자 요청(Request)에 따라 업무 처리를 한다.

  * 데이터 계층

    애플리케이션 계층의 요청에 따라 업무 처리를 한다.

  3계층 시스템에서는 사용자가 웹 브라우저를 통해 시스템에 접속한다. 예를 들어, 인터넷 검색 시스템에서는 사용자가 웹 브라우저에 입력하는 화면은 프레젠테이션 계층의 웹 서버에 먼저 전달된다. 웹 서버는 그 요청을 뒤에 있는 애플리케이션 계층의 애플리케이션 서버(AP서버)에 전달한다. AP서버는 검색 키워드를 바탕으로 무엇을 검색해야 할지 판단해서 뒤에 있는 데이터 계층의 데이터베이스(DB서버)에 데이터를 요청한다.

  * 장점

    서버 부하 집중 개선

    클라이언트 단말의 정기 업데이트가 불필요

    '처리 반환'에 의한 서버 부하 저감

  * 단점

    구조가 클라이언트-서버 구성보다 복잡하다.

* 수평 분할형 아키텍처

  수평 분할형 아키텍처는 용도가 같은 서버를 늘려나가는 방식이다. 서버 대수가 늘어나면 한 대가 시스템에 주는 영향력이 낮아져서 안정성이 향상된다.

  * 장점

    수평으로 서버를 늘리기 때문에 확장성이 향상된다.

    분할한 시스템이 독립적으로 운영되므로 서로 영향을 주지 않는다

  * 단점

    데이터를 일원화해서 볼 수 없다.

    애플리케이션 업데이트는 양쪽에 동시에 해 주어야 한다

    처리량이 균등하게 분할돼 있지 않으면 서버별 처리량에 치우침이 생긴다

* 공유형 아키텍처

  공유형에서는 단순 분할형과 달리 일부 계층에서 상호 접속이 이루어 진다. 보통 DB를 상호 접속한다. 데이터 도익 처리를 위한다. 이 경우 서로 다른 시스템 측의 정보를 읽어올 수 있다. 데이터 계층은 데이터 저장고의 역할도 하기 때문에 보안이 필요한 데이터가 저장되는 경우도 많다.

  * 장점

    수평으로 서버를 늘리기 때문에 확장성이 향상된다.

    분할한 시스템이 서로 다른 시스템의 데이터를 참조할 수 있다.

  * 단점

    분할한 시스템 간 독립성이 낮아진다.

    공유한 계층의 확장성이 낮아진다.

* 스탠바이형 아키텍처

  물리 서버를 최소 두 대를 준비하여 한 대가 고장 나면 가동 중인 소프트웨어를 다른 한 대로 옮겨서 운영하는 방식이다. 이때 소프트웨어 재시작을 자동으로 하는 구조를 페일오버(Failover)라고 한다.

# 2장 서버를 열어보자

